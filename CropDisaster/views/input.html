<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>작물 재해 특성 분석 자동화 및 시각화 시스템</title>
        
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <!-- Google Font: Source Sans Pro -->
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="plugins/fontawesome-free/css/all.min.css">
        <!-- Ionicons -->
        <link
            rel="stylesheet"
            href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
        <!-- Tempusdominus Bootstrap 4 -->
        <link
            rel="stylesheet"
            href="plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
        <!-- iCheck -->
        <link rel="stylesheet" href="plugins/icheck-bootstrap/icheck-bootstrap.min.css">
        <!-- JQVMap -->
        <link rel="stylesheet" href="plugins/jqvmap/jqvmap.min.css">
        <!-- Theme style -->
        <link rel="stylesheet" href="dist/css/adminlte.min.css">
        <!-- overlayScrollbars -->
        <link
            rel="stylesheet"
            href="plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
        <!-- Daterange picker -->
        <link rel="stylesheet" href="plugins/daterangepicker/daterangepicker.css">
        <!-- summernote -->
        <link rel="stylesheet" href="plugins/summernote/summernote-bs4.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-treeview/1.2.0/bootstrap-treeview.min.css"/>
        <link rel="stylesheet" href="plugins/dropzone/min/dropzone.min.css" />
    </head>


    <body class="hold-transition sidebar-mini layout-fixed">
        <div class="wrapper">

            <!-- Navbar -->
            <nav class="main-header navbar navbar-expand navbar-white navbar-light">
                <!-- Left navbar links -->
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" data-widget="pushmenu" href="#" role="button">
                            <i class="fas fa-bars"></i>
                        </a>
                    </li>
                    <li class="nav-item d-none d-sm-inline-block">
                        <h4 class="m-0"><small style="vertical-align: sub;">작물 재해 특성 분석 자동화 및 시각화 시스템</small></h4>
                    </li>
                </ul>
            </nav>
            <!-- /.navbar -->

            <!-- Main Sidebar Container -->
            <aside class="main-sidebar sidebar-dark-primary elevation-4">
                <!-- Brand Logo -->
                <a href="/" class="brand-link" style="text-align: center;">
                    <span class="brand-text font-weight-light">메인화면</span>
                </a>

                <!-- Sidebar -->
                <div class="sidebar">
                    <!-- Sidebar Menu -->
                    <nav class="mt-2">
                        <ul
                            class="nav nav-pills nav-sidebar flex-column"
                            data-widget="treeview"
                            role="menu"
                            data-accordion="false">
                            <!-- Add icons to the links using the .nav-icon class with font-awesome or any
                            other icon font library -->
                            <li class="nav-item">
                                <a href="/" class="nav-link">
                                    <i class="nav-icon fas fa-tachometer-alt"></i>
                                    <p>대쉬보드</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/input" class="nav-link active">
                                    <i class="nav-icon fas fa-edit"></i>
                                    <p>연구정보입력</p>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/search" class="nav-link">
                                    <i class="nav-icon fas fa-search"></i>
                                    <p>연구정보검색</p>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <!-- /.sidebar-menu -->
                </div>
                <!-- /.sidebar -->
            </aside>

            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <div class="content-header">
                    <div class="container-fluid">
                        <div class="row mb-2">
                            <div class="col-sm-6">
                                <h1 class="m-0">연구정보입력</h1>
                            </div>
                            <!-- /.col -->
                            <div class="col-sm-6">
                                <ol class="breadcrumb float-sm-right">
                                    <li class="breadcrumb-item">
                                        <a href="/">Home</a>
                                    </li>
                                    <li class="breadcrumb-item active">연구정보입력</li>
                                </ol>
                            </div>
                            <!-- /.col -->
                        </div>
                        <!-- /.row -->
                    </div>
                    <!-- /.container-fluid -->
                </div>
                <!-- /.content-wrapper -->

                <div class="content">
                    <div class="container-fluid">
                        <div class="card card-primary card-outline card-outline-tabs">
                            <div class="card-header p-0 border-bottom-0">
                                <ul class="nav nav-tabs" id="custom-tabs-tab" role="tablist">
                                    <li class="nav-item">
                                        <a
                                            class="nav-link active"
                                            id="custom-tabs-home-tab"
                                            data-toggle="pill"
                                            href="#custom-tabs-home"
                                            role="tab"
                                            aria-controls="custom-tabs-home"
                                            aria-selected="true">연구정보</a>
                                    </li>
                                    <li class="nav-item">
                                        <a
                                            class="nav-link"
                                            id="custom-tabs-envir-tab"
                                            data-toggle="pill"
                                            href="#custom-tabs-envir"
                                            role="tab"
                                            aria-controls="custom-tabs-envir"
                                            aria-selected="false">환경정보</a>
                                    </li>
                                    <li class="nav-item">
                                        <a
                                            class="nav-link"
                                            id="custom-tabs-water-tab"
                                            data-toggle="pill"
                                            href="#custom-tabs-water"
                                            role="tab"
                                            aria-controls="custom-tabs-water"
                                            aria-selected="false">물사용량</a>
                                    </li>
                                    <li class="nav-item">
                                        <a
                                            class="nav-link"
                                            id="custom-tabs-name-tab"
                                            data-toggle="pill"
                                            href="#custom-tabs-name"
                                            role="tab"
                                            aria-controls="custom-tabs-name"
                                            aria-selected="false">작물계통명</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="card-body">
                                <div class="tab-content" id="custom-tabs-tabContent">
                                    <div
                                        class="tab-pane fade show active"
                                        id="custom-tabs-home"
                                        role="tabpanel"
                                        aria-labelledby="custom-tabs-home-tab">
                                        <div class="row">
                                            <div class="col-lg-4">
                                                <div class="card">
                                                    <div class="card-header">연구 데이터 선택</div>
                                                    <div class="card-body">
                                                        <div id="treeview_info" class=""></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-lg-8">
                                                <div class="card">
                                                    <div class="card-header">업로드 데이터 입력</div>
                                                    <div class="card-body">
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">연구 종</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    class="form-control rounded-5"
                                                                    id="species_info"
                                                                    name="species"
                                                                    maxlength="45"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">실험 목적</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    id="res_purpose_info"
                                                                    name="res_purpose"
                                                                    class="form-control"
                                                                    maxlength="100"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">실험 종류</label>
                                                            <div class="col-sm-10">
                                                                <select id="res_type_info" name="res_type" class="form-control">
                                                                    <option value="">종류 선택</option>
                                                                    <option value="0">건조</option>
                                                                    <option value="1">고온</option>
                                                                    <option value="2">형태</option>
                                                                    <option value="3">색상</option>
                                                                    <option value="4">기타</option>
                                                                </select>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">실험 이름</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    id="res_name_info"
                                                                    name="res_name"
                                                                    class="form-control"
                                                                    maxlength="100"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">관리자</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    id="admin_info"
                                                                    name="admin"
                                                                    class="form-control"
                                                                    maxlength="45"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row" style="margin-bottom: 0px;">
                                                            <label class="col-sm-2 col-form-label">실험 날짜</label>
                                                            <div class="col-sm-10">
                                                                <div class="form-group row" style="margin-left: 0px; margin-right: 0px">
                                                                    <input type="text" name="res_stdate" id="res_stdate_info" class="col-sm-5 form-control" autocomplete="off">
                                                                    <label class="col-sm-2 col-form-label" style="text-align: center"> ~ </label>
                                                                    <input type="text" name="res_eddate" id="res_eddate_info" class="col-sm-5 form-control" autocomplete="off">
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">타입</label>
                                                            <div class="col-sm-10">
                                                                <select id="type_info" name="type" class="form-control">
                                                                    <option value="">타입 선택</option>
                                                                    <option value="1">종자</option>
                                                                    <option value="2">식물</option>
                                                                </select>
                                                            </div>
                                                        </div>
                                                        
                                                        <button
                                                            type=""
                                                            onclick="upload(this)"
                                                            id="upload_button_info"
                                                            class="btn btn-primary waves-effect waves-light"
                                                            style="float: right">업로드</button>
                                                    </div>
                                                </div>
                                                <!-- card end -->
                                            </div>
                                        </div>
                                    </div>
                                    <!-- tab end -->

                                    <div class="tab-pane fade" id="custom-tabs-envir" role="tabpanel" aria-labelledby="custom-tabs-envir-tab">
                                        <div class="row">
                                            <div class="col-lg">
                                                <div class="card">
                                                    <div class="card-header">
                                                        환경정보 데이터 선택
                                                    </div>
                                                    <div class="card-body" id="body_envir">
                                                        <div id="actions_envir" class="row">
                                                            <div class="col-lg-6">
                                                                <div class="btn-group w-100">
                                                                    <span class="btn btn-success col fileinput_button_envir">
                                                                        <i class="fas fa-plus"></i>
                                                                        <span>Add files</span>
                                                                    </span>
                                                                    <button type="submit" class="btn btn-primary col start">
                                                                        <i class="fas fa-upload"></i>
                                                                        <span>Start upload</span>
                                                                    </button>
                                                                    <button type="reset" class="btn btn-warning col cancel">
                                                                        <i class="fas fa-times-circle"></i>
                                                                        <span>Cancel upload</span>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <div class="col-lg-6 d-flex align-items-center">
                                                                <div class="fileupload-process w-100">
                                                                    <div
                                                                        id="total_progress_envir"
                                                                        class="progress progress-striped active"
                                                                        role="progressbar"
                                                                        aria-valuemin="0"
                                                                        aria-valuemax="100"
                                                                        aria-valuenow="0">
                                                                        <div
                                                                            class="progress-bar progress-bar-success"
                                                                            style="width: 0%"
                                                                            data-dz-uploadprogress="data-dz-uploadprogress"></div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="table table-striped files" id="previews_envir">
                                                            <div id="template_envir" class="row mt-2">
                                                                <div class="col-auto">
                                                                    <span class="preview"><img src="data:," alt="" data-dz-thumbnail="data-dz-thumbnail"/></span>
                                                                </div>
                                                                <div class="col d-flex align-items-center">
                                                                    <p class="mb-0">
                                                                        <span class="lead" data-dz-name="data-dz-name"></span>
                                                                        (<span data-dz-size="data-dz-size"></span>)
                                                                    </p>
                                                                    <strong class="error text-danger" data-dz-errormessage="data-dz-errormessage"></strong>
                                                                </div>
                                                                <div class="col-4 d-flex align-items-center">
                                                                    <div
                                                                        class="progress progress-striped active w-100"
                                                                        role="progressbar"
                                                                        aria-valuemin="0"
                                                                        aria-valuemax="100"
                                                                        aria-valuenow="0">
                                                                        <div
                                                                            class="progress-bar progress-bar-success"
                                                                            style="width: 0%"
                                                                            data-dz-uploadprogress="data-dz-uploadprogress"></div>
                                                                    </div>
                                                                </div>
                                                                <div class="col-auto d-flex align-items-center">
                                                                    <div class="btn-group">
                                                                        <button class="btn btn-primary start">
                                                                            <i class="fas fa-upload"></i>
                                                                            <span>Start</span>
                                                                        </button>
                                                                        <button data-dz-remove="data-dz-remove" class="btn btn-warning cancel">
                                                                            <i class="fas fa-times-circle"></i>
                                                                            <span>Cancel</span>
                                                                        </button>
                                                                        <button data-dz-remove="data-dz-remove" class="btn btn-danger delete">
                                                                            <i class="fas fa-trash"></i>
                                                                            <span>Delete</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- tab end -->

                                    <div class="tab-pane fade" id="custom-tabs-water" role="tabpanel" aria-labelledby="custom-tabs-water-tab">
                                        <div class="row">
                                            <div class="col-lg-5">
                                                <div class="card">
                                                    <div class="card-header">연구정보선택</div>
                                                    <div class="card-body">
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">실험 이름</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    id="res_name_search_water"
                                                                    name="res_name"
                                                                    class="form-control"
                                                                    maxlength="100"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">관리자</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    id="admin_search_water"
                                                                    name="admin"
                                                                    class="form-control"
                                                                    maxlength="45"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" style="margin-bottom: 0px;">
                                                            <label class="col-sm-2 col-form-label">실험 날짜</label>
                                                            <div class="col-sm-10">
                                                                <div class="form-group row" style="margin-left: 0px; margin-right: 0px">
                                                                    <input type="text" name="res_stdate" id="res_stdate_search_water" class="col-sm-5 form-control" autocomplete="off">
                                                                    <label class="col-sm-2 col-form-label" style="text-align: center"> ~ </label>
                                                                    <input type="text" name="res_eddate" id="res_eddate_search_water" class="col-sm-5 form-control" autocomplete="off">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="form-group row" style="justify-content: end; margin-right: 0px;"> -->
                                                        <button
                                                            type=""
                                                            onclick="searchinfo(this)"
                                                            id="search_button_water"
                                                            class="btn btn-primary waves-effect waves-light"
                                                            style="float: right">연구정보검색</button>
                                                        <!-- </div>  -->
                                                        <div class="form-group row" id="selectdb_water">
                                                            <label class="col-sm-2 col-form-label">연구 선택</label>
                                                            <div class="col-sm-10">
                                                                <select id="reseach_water" name="info" class="form-control">
                                                                </select>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- card end -->
                                            </div>
                                            <div class="col-lg-7">
                                                <div class="card">
                                                    <div class="card-header">
                                                        물사용량 데이터 선택
                                                    </div>
                                                    <div class="card-body" id="body_water">
                                                        <div class="form-group">
                                                            <div id="actions_water" class="row">
                                                                <div class="col-lg-6">
                                                                    <div class="btn-group w-100">
                                                                        <span class="btn btn-success col fileinput_button_water">
                                                                            <i class="fas fa-plus"></i>
                                                                            <span>Add files</span>
                                                                        </span>
                                                                        <button type="submit" class="btn btn-primary col start">
                                                                            <i class="fas fa-upload"></i>
                                                                            <span>Start upload</span>
                                                                        </button>
                                                                        <button type="reset" class="btn btn-warning col cancel">
                                                                            <i class="fas fa-times-circle"></i>
                                                                            <span>Cancel upload</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-6 d-flex align-items-center">
                                                                    <div class="fileupload-process w-100">
                                                                        <div
                                                                            id="total_progress_water"
                                                                            class="progress progress-striped active"
                                                                            role="progressbar"
                                                                            aria-valuemin="0"
                                                                            aria-valuemax="100"
                                                                            aria-valuenow="0">
                                                                            <div
                                                                                class="progress-bar progress-bar-success"
                                                                                style="width: 0%"
                                                                                data-dz-uploadprogress="data-dz-uploadprogress"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="table table-striped files" id="previews_water">
                                                                <div id="template_water" class="row mt-2">
                                                                    <div class="col-auto">
                                                                        <span class="preview"><img src="data:," alt="" data-dz-thumbnail="data-dz-thumbnail"/></span>
                                                                    </div>
                                                                    <div class="col d-flex align-items-center">
                                                                        <p class="mb-0">
                                                                            <span class="lead" data-dz-name="data-dz-name"></span>
                                                                            (<span data-dz-size="data-dz-size"></span>)
                                                                        </p>
                                                                        <strong class="error text-danger" data-dz-errormessage="data-dz-errormessage"></strong>
                                                                    </div>
                                                                    <div class="col-4 d-flex align-items-center">
                                                                        <div
                                                                            class="progress progress-striped active w-100"
                                                                            role="progressbar"
                                                                            aria-valuemin="0"
                                                                            aria-valuemax="100"
                                                                            aria-valuenow="0">
                                                                            <div
                                                                                class="progress-bar progress-bar-success"
                                                                                style="width: 0%"
                                                                                data-dz-uploadprogress="data-dz-uploadprogress"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-auto d-flex align-items-center">
                                                                        <div class="btn-group">
                                                                            <button class="btn btn-primary start">
                                                                                <i class="fas fa-upload"></i>
                                                                                <span>Start</span>
                                                                            </button>
                                                                            <button data-dz-remove="data-dz-remove" class="btn btn-warning cancel">
                                                                                <i class="fas fa-times-circle"></i>
                                                                                <span>Cancel</span>
                                                                            </button>
                                                                            <button data-dz-remove="data-dz-remove" class="btn btn-danger delete">
                                                                                <i class="fas fa-trash"></i>
                                                                                <span>Delete</span>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="custom-tabs-name" role="tabpanel" aria-labelledby="custom-tabs-name-tab">
                                        <div class="row">
                                            <div class="col-lg-5">
                                                <div class="card">
                                                    <div class="card-header">연구정보선택</div>
                                                    <div class="card-body">
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">실험 이름</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    id="res_name_search_name"
                                                                    name="res_name"
                                                                    class="form-control"
                                                                    maxlength="100"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row">
                                                            <label class="col-sm-2 col-form-label">관리자</label>
                                                            <div class="col-sm-10">
                                                                <input
                                                                    type="text"
                                                                    id="admin_search_name"
                                                                    name="admin"
                                                                    class="form-control"
                                                                    maxlength="45"
                                                                    autocomplete="off"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group row" style="margin-bottom: 0px;">
                                                            <label class="col-sm-2 col-form-label">실험 날짜</label>
                                                            <div class="col-sm-10">
                                                                <div class="form-group row" style="margin-left: 0px; margin-right: 0px">
                                                                    <input type="text" name="res_stdate" id="res_stdate_search_name" class="col-sm-5 form-control" autocomplete="off">
                                                                    <label class="col-sm-2 col-form-label" style="text-align: center"> ~ </label>
                                                                    <input type="text" name="res_eddate" id="res_eddate_search_name" class="col-sm-5 form-control" autocomplete="off">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!-- <div class="form-group row" style="justify-content: end; margin-right: 0px;"> -->
                                                        <button
                                                            type=""
                                                            onclick="searchinfo(this)"
                                                            id="search_button_name"
                                                            class="btn btn-primary waves-effect waves-light"
                                                            style="float: right">연구정보검색</button>
                                                        <!-- </div>  -->
                                                        <div class="form-group row" id="selectdb_name">
                                                            <label class="col-sm-2 col-form-label">연구 선택</label>
                                                            <div class="col-sm-10">
                                                                <select id="reseach_name" name="info" class="form-control">
                                                                </select>
                                                            </div>
                                                            
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- card end -->
                                            </div>
                                            <div class="col-lg-7">
                                                <div class="card">
                                                    <div class="card-header">
                                                        작물 계통명 데이터 선택
                                                        <a href="/grouping/grouping_example.csv" style="float: right;">example.csv</a>
                                                    </div>
                                                    <div class="card-body" id="body_name">
                                                        <div class="form-group">
                                                            <div id="actions_name" class="row">
                                                                <div class="col-lg-6">
                                                                    <div class="btn-group w-100">
                                                                        <span class="btn btn-success col fileinput_button_name">
                                                                            <i class="fas fa-plus"></i>
                                                                            <span>Add files</span>
                                                                        </span>
                                                                        <button type="submit" class="btn btn-primary col start">
                                                                            <i class="fas fa-upload"></i>
                                                                            <span>Start upload</span>
                                                                        </button>
                                                                        <button type="reset" class="btn btn-warning col cancel">
                                                                            <i class="fas fa-times-circle"></i>
                                                                            <span>Cancel upload</span>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <div class="col-lg-6 d-flex align-items-center">
                                                                    <div class="fileupload-process w-100">
                                                                        <div
                                                                            id="total_progress_name"
                                                                            class="progress progress-striped active"
                                                                            role="progressbar"
                                                                            aria-valuemin="0"
                                                                            aria-valuemax="100"
                                                                            aria-valuenow="0">
                                                                            <div
                                                                                class="progress-bar progress-bar-success"
                                                                                style="width: 0%"
                                                                                data-dz-uploadprogress="data-dz-uploadprogress"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="table table-striped files" id="previews_name">
                                                                <div id="template_name" class="row mt-2">
                                                                    <div class="col-auto">
                                                                        <span class="preview"><img src="data:," alt="" data-dz-thumbnail="data-dz-thumbnail"/></span>
                                                                    </div>
                                                                    <div class="col d-flex align-items-center">
                                                                        <p class="mb-0">
                                                                            <span class="lead" data-dz-name="data-dz-name"></span>
                                                                            (<span data-dz-size="data-dz-size"></span>)
                                                                        </p>
                                                                        <strong class="error text-danger" data-dz-errormessage="data-dz-errormessage"></strong>
                                                                    </div>
                                                                    <div class="col-4 d-flex align-items-center">
                                                                        <div
                                                                            class="progress progress-striped active w-100"
                                                                            role="progressbar"
                                                                            aria-valuemin="0"
                                                                            aria-valuemax="100"
                                                                            aria-valuenow="0">
                                                                            <div
                                                                                class="progress-bar progress-bar-success"
                                                                                style="width: 0%"
                                                                                data-dz-uploadprogress="data-dz-uploadprogress"></div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="col-auto d-flex align-items-center">
                                                                        <div class="btn-group">
                                                                            <button class="btn btn-primary start">
                                                                                <i class="fas fa-upload"></i>
                                                                                <span>Start</span>
                                                                            </button>
                                                                            <button data-dz-remove="data-dz-remove" class="btn btn-warning cancel">
                                                                                <i class="fas fa-times-circle"></i>
                                                                                <span>Cancel</span>
                                                                            </button>
                                                                            <button data-dz-remove="data-dz-remove" class="btn btn-danger delete">
                                                                                <i class="fas fa-trash"></i>
                                                                                <span>Delete</span>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- tab end -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ./wrapper -->
        </div>
        <!-- jQuery -->
        <script src="plugins/jquery/jquery.min.js"></script>
        <!-- jQuery UI 1.11.4 -->
        <script src="plugins/jquery-ui/jquery-ui.min.js"></script>
        <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
        <script>
            $.widget.bridge('uibutton', $.ui.button);
        </script>
        <!-- Bootstrap 4 -->
        <script src="plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
        <!-- ChartJS -->
        <script src="plugins/chart.js/Chart.min.js"></script>
        <!-- Sparkline -->
        <script src="plugins/sparklines/sparkline.js"></script>
        <!-- JQVMap -->
        <script src="plugins/jqvmap/jquery.vmap.min.js"></script>
        <script src="plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
        <!-- jQuery Knob Chart -->
        <script src="plugins/jquery-knob/jquery.knob.min.js"></script>
        <!-- daterangepicker -->
        <script src="plugins/moment/moment.min.js"></script>
        <script src="plugins/daterangepicker/daterangepicker.js"></script>
        <!-- Tempusdominus Bootstrap 4 -->
        <script
            src="plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
        <!-- Summernote -->
        <script src="plugins/summernote/summernote-bs4.min.js"></script>
        <!-- overlayScrollbars -->
        <script src="plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
        <!-- AdminLTE App -->
        <script src="dist/js/adminlte.js"></script>
        <script src="dist/js/bootstrap-treeview.js"></script>
        <script src=" plugins/dropzone/min/dropzone.min.js"></script>
        <script>
            var infomation = ["treeview_info", "treeview_envir", "treeview_water"]
            var temp = {};
            var $checkableTree = {};
            var myDropzone = {}


            function getTree(data, id) {
                $checkableTree[id] = $("#" + id).treeview({
                    data: data,
                    showIcon: true,
                    showCheckbox: true,
                    onNodeChecked: function(event, node) {
                        function check(nodes) {
                            if (nodes.nodes != undefined) {
                                $.each(nodes.nodes, (i, v) => {
                                    $checkableTree[id].treeview("checkNode", [v.nodeId, {
                                        silent: true
                                    }])
                                    if (v.nodes != undefined) {
                                        check(v)
                                    }
                                })
                            }
                        }
                        check(node)
                    },
                    onNodeSelected: function(event, node) {
                        var te_arr = []
                        if (node.text.indexOf("More") != -1) {
                            var par_id = node.href.split("_")[0]
                            var parnode = $checkableTree[id].treeview("getNode", [node.parentId])
                            var flag = parnode.state.checked
                            $.each([...Array(15)], (i, v) => {
                                te_arr.push(temp[par_id].shift())
                                if (i == 14) {
                                    $.each(te_arr, (i, v) => {
                                        if (flag) {
                                            v["state"] = {
                                                checked: true
                                            }
                                            $checkableTree[id].treeview("addNode", [node.parentId, {
                                                    node: v
                                                }])
                                                // $checkableTree[id].treeview("checkNode", [v.nodeId, { silent: true }])
                                        } else {
                                            $checkableTree[id].treeview("addNode", [node.parentId, {
                                                node: v
                                            }])
                                        }
                                        if (i == te_arr.length - 1) {
                                            if (temp[par_id].length != 0) {
                                                if (flag) {
                                                    $checkableTree[id].treeview("addNode", [
                                                        node.parentId, {
                                                            node: {
                                                                text: "... " + temp[par_id].length + " More Files",
                                                                href: par_id + "_" + parnode.text,
                                                                state: {
                                                                    checked: true
                                                                }
                                                            }
                                                        },
                                                    ])
                                                } else {
                                                    $checkableTree[id].treeview("addNode", [
                                                        node.parentId, {
                                                            node: {
                                                                text: "... " + temp[par_id].length + " More Files",
                                                                href: par_id + "_" + parnode.text
                                                            }
                                                        },
                                                    ])
                                                }
                                            }
                                            $checkableTree[id].treeview("deleteNode", [node.nodeId])
                                        }
                                    })
                                }
                            })
                        }
                    },
                    onNodeUnchecked: function(event, node) {
                        function uncheck(nodes) {
                            if (nodes.nodes != undefined) {
                                $.each(nodes.nodes, (i, v) => {
                                    $checkableTree[id].treeview("uncheckNode", [v.nodeId, {
                                        silent: true
                                    }])
                                    if (v.nodes != undefined) {
                                        uncheck(v)
                                    }
                                })
                            }
                        }

                        function uncheckParent(nodes) {
                            $checkableTree[id].treeview("uncheckNode", [nodes.parentId, {
                                silent: true
                            }])
                            uncheckParent($checkableTree[id].treeview("getNode", [nodes.parentId]))
                        }
                        uncheck(node)
                        if (node.parentId != undefined) {
                            uncheckParent(node)
                        }
                    },
                    onNodeExpanded: function(event, node) {
                        if (node.nodes.length == 0) {
                            $.ajax({
                                url: "/searchFile",
                                data: {
                                    folder: node.href,
                                    id: id
                                },
                                method: "get",
                                success: function(data) {
                                    $.each(data, (i, v) => {
                                        if (i > 14) {
                                            if (i == 15) {
                                                temp[node.nodeId] = []
                                                if ($checkableTree[id].treeview("getNode", node.nodeId).state.checked) {
                                                    $checkableTree[id].treeview("addNode", [
                                                        node.nodeId, {
                                                            node: {
                                                                text: "... " + (data.length - 15) + " More Files",
                                                                href: node.nodeId + "_" + node.text,
                                                                state: {
                                                                    checked: true
                                                                }
                                                            }
                                                        },
                                                    ])
                                                } else {
                                                    $checkableTree[id].treeview("addNode", [
                                                        node.nodeId, {
                                                            node: {
                                                                text: "... " + (data.length - 15) + " More Files",
                                                                href: node.nodeId + "_" + node.text
                                                            }
                                                        },
                                                    ])
                                                }
                                            }
                                            temp[node.nodeId].push(v)
                                        } else {
                                            if ($checkableTree[id].treeview("getNode", node.nodeId).state.checked) {
                                                v["state"] = { checked: true }
                                                $checkableTree[id].treeview("addNode", [node.nodeId, { node: v }])
                                            } else {
                                                $checkableTree[id].treeview("addNode", [node.nodeId, { node: v }])
                                            }
                                        }
                                    })
                                },
                            })
                        }
                    },
                })
            }


            function upload(element) {
                var id = element.id.split("_")[2];
                var tempNodes = $("#treeview_" + id).treeview("getChecked");
                var nodes = []; // 실질 사용 노드
                var nodesData = [];
                var par_id;
                var tempCnt = 0;

                $.each(tempNodes, function(i, v) {
                    if (nodes.indexOf(v) == -1) {
                        if (v.parentId == undefined && v.state.checked) {
                            nodes.push(v);
                            nodesData.push(v.href);
                        }
                        else if (!$("#treeview_" + id).treeview("getNode", [v.parentId]).state.checked) {
                            if (v.text.indexOf("More") != -1) {
                                par_id = v.href.split("_")[0]
                                $.each(temp[par_id], function(i, v) { 
                                    nodesData.push(v.href); 
                                    tempCnt++;
                                });
                            }
                            else {
                                nodes.push(v);
                                nodesData.push(v.href);
                            }
                        }
                    }
                });
                
                if ((nodes.length + tempCnt) == nodesData.length) {
                    if (element.id == "upload_button_info") {
                        $.ajax({
                            url: "/Upload_Data",
                            method: "post",
                            dataType: "json",
                            data: {
                                species: $("#species_info").val(),
                                res_purpose: $("#res_purpose_info").val(),
                                res_type: $("#res_type_info").val(),
                                admin: $("#admin_info").val(),
                                res_stdate: $("#res_stdate_info").val(),
                                res_eddate: $("#res_eddate_info").val(),
                                res_name: $("#res_name_info").val(),
                                type: $("#type_info").val(),
                                node: JSON.stringify(nodesData)
                            },
                            success: function(data) { 
                            },
                            error: function(data) {
                                // console.log(data);
                                // if (data.responseText == 'success') {
                                //     $("#upload_button_info").Toasts('create', {
                                //     class: 'bg-success',
                                //     title: '연구정보 입력 성공',
                                //     subtitle: 'Success',
                                //     body: '연구정보 입력 성공'
                                // })
                                // } else {
                                //     $("#upload_button_info").Toasts('create', {
                                //         class: 'bg-danger',
                                //         title: '연구정보 입력 실패',
                                //         subtitle: 'Failed',
                                //         body: '연구정보 입력에 실패했습니다.'
                                //     })
                                // }
                            }
                        })
                        $("#species_info").val("");
                        $("#res_purpose_info").val("");
                        $("#res_type_info").val("");
                        $("#admin_info").val("");
                        $("#res_stdate_info").val("");
                        $("#res_eddate_info").val("");
                        $("#res_name_info").val("");
                        $("#type_info").val("");
                    }
                }
            }
            
            function searchinfo(element) {
                var id = element.id.split("button")[1];
                $.ajax({
                    url: "/getResearch",
                    method: "get",
                    data : {
                        admin : $("#admin_search" + id).val(),
                        name: $("#res_name_search" + id).val(),
                        res_stdate: $("#res_stdate_search" + id).val(),
                        res_eddate: $("#res_eddate_search" + id).val()
                    },
                    
                    success: function (data) {
                        $("#selectdb" + id).css("display", "")
                        $("#upload_button" + id).css("display", "")

                        var html = ""
                        $("#reseach" + id).html("");
                        html += `<option value="0">연구 선택</option>`
                        $.each(data, (i, v) => {
                            html += `<option value="` + data[i].res_id + `">연구ID: ` + data[i].res_id + " / 관리자: " + data[i].res_admin + 
                                " / 실험명: " + data[i].res_name + " / 실험 날짜: " + data[i].res_stdate + "~" + data[i].res_eddate + "</option>"
                        })
                        $("#reseach" + id).append(html);
                        $("#reseach" + id).change(function() {
                            myDropzone[id.split("_")[1]].options.params.id = $(this).val();
                        })
                    }
                })
            }
            
            
            function createDropzone(id) {
                Dropzone.autoDiscover = false
                var previewNode = document.querySelector("#template_" + id)
                previewNode.id = ""
                var previewTemplate = previewNode
                    .parentNode
                    .innerHTML
                    previewNode
                    .parentNode
                    .removeChild(previewNode)
                myDropzone[id] = new Dropzone("#body_" + id, {
                    // Make the whole body a dropzone
                    url: "/get_" + id,
                    method: "post",
                    paramName: 'file',
                    params: { id: ((id == 'water' || id == 'name') ? console.log($("#reseach_" + id).val(), id, $("#reseach_" + id)) : 0)  },
                    uploadMultiple: false,
                    thumbnailWidth: 80,
                    thumbnailHeight: 80,
                    parallelUploads: 20,
                    previewTemplate: previewTemplate,
                    acceptedFiles: ".csv",
                    autoQueue: false, // Make sure the files aren't queued until manually added
                    previewsContainer: "#previews_" + id, // Define the container to display the previews
                    clickable: ".fileinput_button_" + id, // Define the element that should be used as click trigger to select files.
                })
                myDropzone[id].on("addedfile", function (file) {
                    // Hookup the start button
                    file
                        .previewElement
                        .querySelector(".start")
                        .onclick = function () { myDropzone[id].enqueueFile(file) }
                    
                })

                // Update the total progress bar
                myDropzone[id].on("totaluploadprogress", function (progress) {
                    document
                        .querySelector("#total_progress_" + id + " .progress-bar")
                        .style
                        .width = progress + "%"
                })

                myDropzone[id].on("sending", function (file) {
                    // Show the total progress bar when upload starts
                    document
                        .querySelector("#total_progress_" + id)
                        .style
                        .opacity = "1"
                    // And disable the start button
                    file
                        .previewElement
                        .querySelector(".start")
                        .setAttribute("disabled", "disabled")
                })

                // Hide the total progress bar when nothing's uploading anymore
                myDropzone[id].on("queuecomplete", function (progress) {
                    document
                        .querySelector("#total_progress_" + id)
                        .style
                        .opacity = "0"
                })

                // Setup the buttons for all transfers The "add files" button doesn't need to be
                // setup because the config `clickable` has already been specified.
                
                document
                    .querySelector("#actions_" + id +  " .start")
                    .onclick = function () { myDropzone[id].enqueueFiles(myDropzone[id].getFilesWithStatus(Dropzone.ADDED)) }
                document
                    .querySelector("#actions_" + id + " .cancel")
                    .onclick = function () { myDropzone[id].removeAllFiles(true) }
            }


            window.onload = function () {
                $.ajax({
                    url: "/searchFile",
                    data: {
                        folder: "/",
                        id : "treeview_info"
                    },
                    method: "get",
                    success: function (data) { getTree(data, "treeview_info"); }
                })

                createDropzone("envir")
                createDropzone("water")
                createDropzone("name")
                $("#selectdb_name").css("display", "none")
                $("#selectdb_water").css("display", "none")
            }

            $(function() { $("#res_stdate_info").datepicker({ dateFormat: "yy-mm-dd", }) })
            $(function() { $("#res_eddate_info").datepicker({ dateFormat: "yy-mm-dd", }) })
            $(function() { $("#res_stdate_search_name").datepicker({ dateFormat: "yy-mm-dd", }) })
            $(function() { $("#res_eddate_search_name").datepicker({ dateFormat: "yy-mm-dd", }) })
            $(function() { $("#res_stdate_search_envir").datepicker({ dateFormat: "yy-mm-dd", }) })
            $(function() { $("#res_eddate_search_envir").datepicker({ dateFormat: "yy-mm-dd", }) })
            $(function() { $("#res_stdate_search_water").datepicker({ dateFormat: "yy-mm-dd", }) })
            $(function() { $("#res_eddate_search_water").datepicker({ dateFormat: "yy-mm-dd", }) })
        </script>
    </body>

</html>